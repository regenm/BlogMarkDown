---
title: AIæŠ€æœ¯çš„å­¦ä¹ ä¸Žæ€»ç»“
date: 2025-03-01 10:57:44
tags: [ç¬”è®°, linux, æ·±åº¦å­¦ä¹ ,AI,deepseek-r1,ragflow,dify,bge-m3,çŸ¥è¯†åº“,æœ¬åœ°éƒ¨ç½²,å®¢åˆ¶åŒ–AI]
categories: [è½¯ä»¶æŠ€æœ¯]
---

# æ‘˜è¦	

â€‹	æœ€è¿‘ä¸€ä¸ªæ˜ŸæœŸçœ‹åˆ°äº†èº«è¾¹çš„ç‰›äººæ˜¯å¦‚ä½•ä½¿ç”¨AIå¤§æ¨¡åž‹è¿›è¡Œæé«˜å·¥ä½œæ•ˆçŽ‡ï¼Œä»¥åŠå®žçŽ°æ–°æƒ³æ³•ä¿ƒè¿›ä¸ªäººä»¥åŠä¼ä¸šå‘å±•çš„é«˜æ•ˆæ€§ã€‚äºŽæ˜¯æ­å»ºäº†ä¸€å¥—å¯ä»¥å®¢åˆ¶åŒ–çš„æœ¬åœ°çš„AIï¼ŒåŸºäºŽä»¥ä¸‹æ–¹æ¡ˆï¼ˆé¡¹ç›®ï¼‰ã€‚

1. Dify

    > â€‹	ç”¨å·¥ä½œæµçš„æ–¹å¼ç»„åˆå„ç§æ¨¡åž‹ã€çŸ¥è¯†åº“ã€å·¥å…·æ¥æ­å»ºé«˜åº¦å®¢åˆ¶åŒ–çš„AIå·¥å…·ã€‚

2. ollama + deepseek-r1:7b + bge-m3

    > ollama å¸®åŠ©ç®¡ç†æŽ¨ç†æ¨¡åž‹ä»¥åŠçŸ¥è¯†åº“æ¨¡åž‹ï¼Œæä¾›APIæŽ¥å£ç»™DIFYä½¿ç”¨

3. ragflow

    > åŸºäºŽæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generation, RAGï¼‰æŠ€æœ¯çš„å·¥ä½œæµå·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡ç»“åˆæ£€ç´¢å’Œç”Ÿæˆæ¨¡åž‹æå‡é—®ç­”ç³»ç»Ÿã€æ–‡æœ¬ç”Ÿæˆç­‰ä»»åŠ¡çš„æ€§èƒ½ã€‚

# ragflowå’Œdifyçš„ä¸åŒåº”ç”¨

> 1. RAGFlowæ›´é€‚åˆéœ€è¦æ·±åº¦æ–‡æ¡£è§£æžå’Œæ— å¹»è§‰ç”Ÿæˆçš„ä¼ä¸šï¼Œå°¤å…¶æ˜¯å¤„ç†å¤æ‚æ ¼å¼æ–‡æ¡£çš„åœºæ™¯ã€‚
> 2. Difyæ›´é€‚åˆéœ€è¦çµæ´»å·¥ä½œæµç¼–æŽ’å’Œå¤šæ¨¡åž‹é›†æˆçš„å¼€å‘è€…ï¼Œå°¤å…¶æ˜¯æž„å»ºå¤æ‚AIåº”ç”¨çš„åœºæ™¯ã€‚
> 3. å¦‚æžœä¼ä¸šéœ€è¦é«˜åº¦å®šåˆ¶åŒ–çš„æ–‡æ¡£è§£æžå’Œæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼Œå»ºè®®é€‰æ‹©RAGFlowï¼›å¦‚æžœéœ€è¦å¿«é€Ÿæž„å»ºç”Ÿäº§çº§AIåº”ç”¨ï¼Œå»ºè®®é€‰æ‹©Difyã€‚
>     

# æˆ‘çš„ä¸‹ä¸€æ­¥AIåº”ç”¨è®¡åˆ’

## 1. å­¦ä¹ difyçš„å·¥ä½œæµåŽŸç†

* æ­å»ºä¸€ä¸ªç®€å•çš„å·¥ä½œæµå¹¶è¿è¡Œ

![](../images/AI/1.png)



## 2. ä½¿ç”¨bge-m3æ­å»ºä¸€ä¸ªçŸ¥è¯†åº“æ¨¡

## åž‹

1. æ‰‹å¤´æ°å¥½æœ‰40gçš„ç”µå­ä¹¦ï¼Œåœ¨pdfæ ¼å¼é‡Œé¢éšæœºé€‰æ‹©äº†å‡ å†Œã€‚

2. å…ˆå°è¯•ç¡…åŸºæµåŠ¨çš„bge-m3æ¨¡åž‹

3. æ£€ç´¢è®¾ç½®

    > # Rerankæ¨¡åž‹
    >
    > åœ¨çŸ¥è¯†åº“æ£€ç´¢ä¸­ï¼ŒRerankæ˜¯ä¸€ä¸ªéžå¸¸é‡è¦çš„çŽ¯èŠ‚ï¼Œå°¤å…¶åœ¨æ£€ç´¢å¢žå¼ºç”Ÿæˆï¼ˆRAGï¼‰æž¶æž„ä¸­ã€‚å®ƒå¯ä»¥å¸®åŠ©å¤§è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰èŽ·å–æ›´ç²¾ç¡®çš„å†…å®¹ï¼Œä»Žè€Œæé«˜ç”Ÿæˆå›žç­”çš„å‡†ç¡®æ€§å’Œç›¸å…³æ€§ã€‚
    >
    > Rerankçš„åŽŸç†å’Œæœºåˆ¶ï¼š
    >
    > 1. åˆæ­¥æ£€ç´¢
    >
    >     åœ¨çŸ¥è¯†åº“æ£€ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆé€šè¿‡å‘é‡æ£€ç´¢æˆ–å…¶ä»–æ£€ç´¢æ–¹æ³•ï¼Œä»ŽçŸ¥è¯†åº“ä¸­æ£€ç´¢å‡ºäºŽç”¨æˆ·é—®é¢˜ç›¸å…³çš„å¤šä¸ªæ–‡æ¡£æˆ–æ–‡æœ¬ç‰‡æ®µã€‚è¿™äº›æ–‡æ¡£å¯èƒ½ä¸Žç”¨æˆ·é—®é¢˜çš„ç›¸å…³æ€§ä¸åŒï¼Œæœ‰äº›å¯èƒ½éžå¸¸è´´åˆ‡ï¼Œè€Œæœ‰äº›çŸ¥åªæ˜¯ç¨å¾®ç›¸å…³ï¼Œç”šè‡³ä¸ç›¸å…³ã€‚
    >
    > 2. é‡æ–°æŽ’åºã€è¿‡æ»¤å’Œä¼˜åŒ–
    >
    >     Rerankæ¨¡åž‹ æŽ¥æ”¶åˆæ­¥æ£€ç´¢åˆ°çš„æ–‡æ¡£å’Œåˆ—è¡¨å’Œç”¨æˆ·çš„é—®é¢˜ä½œä¸ºè¾“å…¥ã€‚è¯„ä¼°æ¯ä¸ªç»“æžœä¸Žç”¨æˆ·é—®é¢˜çš„**ç›¸å…³æ€§**ï¼Œè®¡ç®—ç›¸å…³æ€§åˆ†æ•°ã€‚æ ¹æ®åˆ†æ•°å¯¹æ–‡æ¡£è¿›è¡Œé‡æ–°æŽ’åºï¼Œå°†æœ€ç›¸å…³è®¢å•æ–‡æ¡£æŽ’åœ¨å‰é¢ã€‚å¹¶ä¸”ï¼Œè¿‡æ»¤æŽ‰ä¸ç›¸å…³çš„æ–‡æ¡£ï¼Œä»Žè€Œå‡å°‘å™ªå£°ã€‚è¿™æ ·ï¼Œå½“LLMç”Ÿæˆå›žç­”æ—¶ï¼Œä¼šä¼˜å…ˆè€ƒè™‘æŽ’åé å‰çš„ã€æ›´åŠ ç›¸å…³è®¢å•æ–‡æ¡£ã€‚æœ€åŽï¼Œé‡æ–°æŽ’åºçš„æ–‡æ¡£ä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥åˆ°LLMä¸­ï¼ŒLLMæ ¹æ®è¿™äº›**æ›´ç²¾ç¡®**çš„ä¸Šä¸‹æ–‡ç”Ÿæˆå›žç­”ã€‚
    >
    > # Top K
    >
    > Top Kç”¨äºŽæŽ§åˆ¶æ£€ç´¢ç³»ç»Ÿè¿”å›žç»“æžœçš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœé…ç½®ä¸º2ï¼Œä¼šè¿”å›žæœ€å¤šä¸¤ä¸ªç»“æžœã€‚
    >
    > Top Ké€šå¸¸ä¸ŽðŸ‘‡ðŸ»çš„Scoreé˜ˆå€¼é…åˆä½¿ç”¨ã€‚Scoreé˜ˆå€¼ç”¨äºŽè¿‡æ»¤æŽ‰ç›¸ä¼¼åº¦ä½ŽäºŽæŸä¸ªé˜ˆå€¼çš„ç»“æžœï¼Œè€ŒTop Kåˆ™åœ¨æ»¡è¶³é˜ˆå€¼æ¡ä»¶çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥ç­›é€‰å‡ºæ¥æœ€ç›¸å…³çš„Kä¸ªç»“æžœã€‚
    >
    > - æ›´å…¨é¢çš„ç»“æžœï¼Œå¯ä»¥é€‚å½“å¢žåŠ  **Top K** çš„å€¼ã€‚
    > - æ›´ç²¾å‡†çš„ç»“æžœï¼Œå¯ä»¥é€‚å½“å‡å° **Top K** çš„å€¼ï¼Œå¹¶ç»“åˆè¾ƒé«˜çš„ **Score é˜ˆå€¼**ã€‚
    >
    > # Score é˜ˆ
    >
    > Scoreé˜ˆå€¼ä½œä¸ºä¸€ç§æ ‡å‡†é€‰æ‹©æ£€ç´¢ç»“æžœã€‚ç”¨äºŽè¿‡æ»¤æŽ‰ç›¸ä¼¼åº¦ä½ŽäºŽé˜ˆå€¼çš„ç»“æžœã€‚

![](../images/AI/2.png)







## 3. ä½¿ç”¨difyæ­å»ºä¸€ä¸ªç®€å•çš„å®¢åˆ¶åŒ–çš„AIåº”ç”¨ï¼ˆä½¿ç”¨2çš„çŸ¥è¯†åº“ï¼‰

å·²å®žçŽ°

## 4. ä½¿ç”¨ragflowåŸºäºŽç›¸åŒæ•°æ®æºæ­å»ºå®¢åˆ¶åŒ–AIåº”ç”¨

å·²å®žçŽ°

## 5. ä½¿ç”¨å·¥å…·ä¾‹å¦‚æœç´¢å¼•æ“Žå®žçŽ°è”ç½‘





# æœ‰å…³å„ç§AIæ¨¡åž‹ä»¥åŠå·¥å…·ã€æ¦‚å¿µçš„æ‰«ç›²

> # RAG
>
> â€‹	RAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢žå¼ºç”Ÿæˆï¼‰ æ˜¯ä¸€ç§ç»“åˆäº†ä¿¡æ¯æ£€ç´¢æŠ€æœ¯ä¸Žè¯­è¨€ç”Ÿæˆæ¨¡åž‹çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚è¯¥æŠ€æœ¯é€šè¿‡ä»Žå¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä½œä¸ºæç¤ºï¼ˆPromptï¼‰è¾“å…¥ç»™å¤§åž‹è¯­è¨€æ¨¡ï¼ˆLLMsï¼‰ï¼Œä»¥å¢žå¼ºæ¨¡åž‹å¤„ç†çŸ¥è¯†å¯†é›†åž‹ä»»åŠ¡çš„èƒ½åŠ›ï¼Œå¦‚é—®ç­”ã€æ–‡æœ¬æ‘˜è¦ã€å†…å®¹ç”Ÿæˆç­‰ã€‚RAGæ¨¡åž‹ç”±Facebook AI Researchï¼ˆFAIRï¼‰å›¢é˜ŸäºŽ2020å¹´é¦–æ¬¡æå‡ºï¼Œå¹¶è¿…é€Ÿæˆä¸ºå¤§æ¨¡åž‹åº”ç”¨ä¸­çš„çƒ­é—¨æ–¹æ¡ˆã€‚
> 
>
